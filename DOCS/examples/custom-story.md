# 自訂故事範例

本指南將教你如何創建自訂故事分支，擴展 Tsext Adventure: Halloween Haunt 的內容。

## 🎭 基本概念

### 故事結構
每個故事由場景組成，場景之間通過選擇連接：

```
場景 A -> 選擇 1 -> 場景 B
       -> 選擇 2 -> 場景 C
```

### 場景類型
- **普通場景**: 有選擇選項的場景
- **結局場景**: 沒有選擇選項的場景
- **分支場景**: 有多個選擇的場景

## 📝 創建新場景.

### 1. 基本場景格式
```json
{
  "new_scene_id": {
    "title": "場景標題",
    "description": "場景的詳細描述...",
    "choices": [
      {
        "option": "A: 選擇描述",
        "next_scene": "next_scene_id"
      }
    ]
  }
}
```

### 2. 結局場景格式
```json
{
  "ending_scene_id": {
    "title": "結局標題",
    "description": "結局場景描述...",
    "is_ending": true,
    "outcome": "結局結果描述...",
    "score": 85
  }
}
```

## 🎯 實際範例

### 範例 1: 吸血鬼城堡場景
```json
{
  "vampire_castle": {
    "title": "吸血鬼城堡入口",
    "description": "你來到一座古老的吸血鬼城堡，月光透過烏雲灑在尖塔上。門口站著一個穿著黑色斗篷的性感吸血鬼，他的眼睛閃爍著紅光。\n\n「歡迎來到我的城堡，」他優雅地鞠躬，「我是德古拉伯爵，已經活了 500 年了。今晚，我邀請你參加我的... 特殊派對。」",
    "choices": [
      {
        "option": "A: 說「我很榮幸，伯爵」",
        "next_scene": "vampire_welcome"
      },
      {
        "option": "B: 問「你的派對有什麼特別的？」",
        "next_scene": "vampire_party_info"
      },
      {
        "option": "C: 試圖逃跑",
        "next_scene": "vampire_chase"
      }
    ]
  },
  
  "vampire_welcome": {
    "title": "吸血鬼的歡迎",
    "description": "德古拉伯爵對你的禮貌感到滿意。「很好，」他說，「我喜歡有禮貌的人。讓我帶你參觀我的城堡。」\n\n他優雅地伸出手，邀請你進入城堡。你感覺到一陣涼意，但同時又有一種奇異的吸引力。",
    "choices": [
      {
        "option": "A: 接受邀請，進入城堡",
        "next_scene": "castle_tour"
      },
      {
        "option": "B: 問「你的城堡有什麼秘密？」",
        "next_scene": "castle_secrets"
      }
    ]
  },
  
  "castle_tour": {
    "title": "城堡之旅",
    "description": "德古拉伯爵帶你參觀他的城堡。你們經過了圖書館、餐廳，最後來到了一個神秘的房間。房間裡有一張巨大的床，周圍點著蠟燭。\n\n「這是我的臥室，」他神秘地笑著，「只有特別的客人才能來到這裡。」",
    "is_ending": true,
    "outcome": "🌙 浪漫結局！你和德古拉伯爵在月光下度過了難忘的夜晚！\n\n你獲得了『吸血鬼戀人』的稱號，並且永遠記住了這個神秘的夜晚。",
    "score": 90
  }
}
```

### 範例 2: 狼人森林場景
```json
{
  "werewolf_forest": {
    "title": "狼人森林",
    "description": "你走進一片黑暗的森林，月光透過樹葉灑下。突然，你聽到遠處傳來狼嚎聲。一個穿著破爛衣服的性感狼人從樹後走出來。\n\n「你好，陌生人，」他低聲說，「我是狼人傑克，今晚是滿月。你來這裡做什麼？」",
    "choices": [
      {
        "option": "A: 說「我想了解狼人的生活」",
        "next_scene": "werewolf_life"
      },
      {
        "option": "B: 問「你會變身嗎？」",
        "next_scene": "werewolf_transformation"
      },
      {
        "option": "C: 說「我只是迷路了」",
        "next_scene": "werewolf_help"
      }
    ]
  },
  
  "werewolf_transformation": {
    "title": "狼人變身",
    "description": "傑克神秘地笑著：「你想看嗎？」突然，他的身體開始變化，毛髮長出，爪子伸出。他變成了一隻巨大的狼人！\n\n「這就是我的真面目，」他低聲說，「你害怕嗎？」",
    "choices": [
      {
        "option": "A: 說「不，你很美」",
        "next_scene": "werewolf_romance"
      },
      {
        "option": "B: 說「有點嚇人，但很酷」",
        "next_scene": "werewolf_friendship"
      }
    ]
  },
  
  "werewolf_romance": {
    "title": "狼人的浪漫",
    "description": "傑克對你的回答感到驚訝，然後笑了。「你是第一個不害怕我的人，」他說，「讓我變回人形，我們可以好好聊聊。」\n\n他變回人形，你們在月光下度過了美好的時光。",
    "is_ending": true,
    "outcome": "🐺 野性結局！你和狼人傑克在森林中度過了狂野的夜晚！\n\n你獲得了『狼人戀人』的稱號，並且永遠記住了這個充滿野性的夜晚。",
    "score": 85
  }
}
```

## 🔧 添加新場景到遊戲

### 步驟 1: 編輯故事檔案
1. 開啟 `stories/halloween.json`
2. 在適當位置添加新場景
3. 確保場景 ID 唯一
4. 檢查 JSON 格式正確

### 步驟 2: 連接現有場景
```json
{
  "existing_scene": {
    "choices": [
      {
        "option": "A: 前往吸血鬼城堡",
        "next_scene": "vampire_castle"  // 新場景 ID
      }
    ]
  }
}
```

### 步驟 3: 測試新場景
```bash
python tests/test_stories.py
```

## 🎨 創意提示

### 角色設計
- **獨特個性**: 每個角色都應該有獨特的個性
- **背景故事**: 給角色豐富的背景故事
- **互動方式**: 設計有趣的互動方式

### 場景設計
- **氛圍營造**: 使用描述營造氛圍
- **選擇多樣性**: 提供多種選擇選項
- **結局多樣性**: 創建不同類型的結局

### 幽默元素
- **雙關語**: 使用萬聖節相關的雙關語
- **意外轉折**: 添加意外的情節轉折
- **角色反差**: 創造角色的反差萌

## 🧪 測試你的故事

### 基本測試
1. **場景連接**: 確保所有場景都可以到達
2. **結局完整性**: 確保所有結局都有描述
3. **JSON 格式**: 確保 JSON 格式正確

### 進階測試
1. **故事邏輯**: 確保故事邏輯合理
2. **角色一致性**: 確保角色行為一致
3. **幽默效果**: 確保幽默元素有效

## 📚 更多範例

### 殭屍末日場景
```json
{
  "zombie_apocalypse": {
    "title": "殭屍末日",
    "description": "你發現自己身處殭屍末日中，但這些殭屍看起來... 不太一樣。他們穿著性感的衣服，眼神中還有智慧的光芒。\n\n一個穿著護士裝的性感殭屍走過來：「你好，我是殭屍護士莉莉，我們不是普通的殭屍，我們是... 特殊的殭屍。」",
    "choices": [
      {
        "option": "A: 問「什麼是特殊的殭屍？」",
        "next_scene": "special_zombie_explanation"
      },
      {
        "option": "B: 說「你看起來很健康」",
        "next_scene": "zombie_compliment"
      }
    ]
  }
}
```

### 惡魔領域場景
```json
{
  "demon_realm": {
    "title": "惡魔領域",
    "description": "你被傳送到了一個神秘的惡魔領域，這裡充滿了火焰和硫磺的味道。一個穿著黑色皮衣的性感惡魔走過來。\n\n「歡迎來到我的領域，」她說，「我是惡魔女王莉莉絲，已經統治這裡 1000 年了。你來這裡做什麼？」",
    "choices": [
      {
        "option": "A: 說「我想了解惡魔的生活」",
        "next_scene": "demon_life"
      },
      {
        "option": "B: 問「你能實現願望嗎？」",
        "next_scene": "demon_wishes"
      }
    ]
  }
}
```

## 🎯 最佳實踐

### 故事設計
1. **保持一致性**: 確保角色和世界觀一致
2. **平衡選擇**: 提供有意義的選擇
3. **多樣結局**: 創建不同類型的結局

### 技術實現
1. **唯一 ID**: 確保場景 ID 唯一
2. **正確格式**: 遵循 JSON 格式規範
3. **完整測試**: 測試所有場景和連接

### 內容創作
1. **年齡適宜**: 確保內容適合目標受眾
2. **幽默得體**: 保持幽默的得體性
3. **創意新穎**: 避免重複現有內容

---

**記住**: 創建自訂故事時，要保持創意和幽默感，同時確保技術實現的正確性！

🎃 Happy Storytelling! 🎃
